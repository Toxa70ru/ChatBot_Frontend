<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Форма входа</title>
</head>
<body>
  <h2>Форма входа</h2>
  <form id="loginForm">
    <div>
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>
    </div>
    <div>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
    </div>
    <button type="submit">Войти</button>
  </form>
</body>

<script>
    document.getElementById("loginForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Предотвращаем отправку формы по умолчанию

        // Получаем данные из формы
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;

        // Создаем объект с данными для отправки
        var data = {
            username: username,
            password: password
        };

        // Преобразуем объект в JSON-строку
        var json = JSON.stringify(data);

        // Выполняем POST-запрос
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "https://localhost:7016/api/Auth/authenticate", true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(json);

        // Обработка ответа
        xhr.onload = function() {
            if (xhr.status == 200) {
                console.log("Вход выполнен успешно!");
            // Здесь вы можете выполнить дополнительные действия, например, перенаправить пользователя на другую страницу
            } else {
            console.error('Ошибка ' + xhr.status + ': ' + xhr.statusText);
            }
        };

        // Обработка ошибок запроса
        xhr.onerror = function() {
            console.error('Ошибка сети');
        };
    });
</script>
</html>